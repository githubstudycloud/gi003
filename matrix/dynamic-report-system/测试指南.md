# 测试指南 - 新功能验证

## 测试场景 1: 10维矩阵 (快速测试)

### 步骤
1. 打开 [index.html](index.html)
2. 填写:
   - 报告名称: `10维测试报告`
   - 版本名称: `v1.0`
3. 选择 "分类预测混淆矩阵统计报告"
4. 点击 "🎲 10维矩阵 (200条)"
5. 配置字段:
   - 预期值字段: `expected_level`
   - 实际值字段: `actual_level`
   - 显示说明字段: `level_name`
6. 矩阵最值策略: 保持默认"自动计算"
7. 空值处理: 保持默认"记为0"
8. 点击 "🚀 生成报告"

### 预期结果
- ✅ 数据加载提示: "10维示例数据加载成功!"
- ✅ 数据预览显示: 200条数据
- ✅ 字段下拉框自动填充
- ✅ 报告成功生成
- ✅ 矩阵大小: 10x10
- ✅ 左侧两列: "显示说明" 和 "值"
- ✅ 显示说明列内容: 极低、很低、低等
- ✅ 值列内容: 0、1、2、3...9

---

## 测试场景 2: 20维矩阵 (中等规模)

### 步骤
1. 返回主页
2. 填写:
   - 报告名称: `20维测试报告`
   - 版本名称: `v2.0`
3. 点击 "🎲 20维矩阵 (206条)"
4. 配置相同字段
5. 生成报告

### 预期结果
- ✅ 数据加载: "20维矩阵 (206条) 数据加载成功!"
- ✅ 矩阵大小: 20x20
- ✅ 总样本数: 206
- ✅ 等级说明包含: 极低、很低...完美、S级、SS级、SSS级、传奇
- ✅ 左侧第一列显示完整等级说明
- ✅ 左侧第二列显示数值0-19

### 关键测试点
- **横向滚动测试**:
  1. 将浏览器窗口缩小
  2. 横向滚动矩阵
  3. 验证左侧两列保持固定(Sticky)
  4. 验证两列之间有明显分隔线

- **点击单元格测试**:
  1. 点击任意非零单元格
  2. 验证弹出详情窗口
  3. 验证实际值和预测值显示正确
  4. 验证数据表格显示完整

---

## 测试场景 3: 30维矩阵 (大规模)

### 步骤
1. 返回主页
2. 填写:
   - 报告名称: `30维压力测试`
   - 版本名称: `v3.0`
3. 点击 "🎲 30维矩阵 (394条)"
4. 配置字段
5. 生成报告

### 预期结果
- ✅ 数据加载: "30维矩阵 (394条) 数据加载成功!"
- ✅ 矩阵大小: 30x30
- ✅ 总样本数: 394
- ✅ 页面渲染流畅(<3秒)
- ✅ 30个等级说明完整显示
- ✅ 等级包含: 极低...传奇-、传奇、传奇+、神话、巅峰

### 性能测试
- **渲染速度**: 从点击"生成报告"到页面完全显示 < 3秒
- **滚动流畅度**: 横向/纵向滚动无卡顿
- **交互响应**: 点击单元格立即响应
- **内存占用**: 浏览器无明显卡顿

---

## 测试场景 4: 视觉验证

### 左侧列分离效果
1. 生成任意维度报告
2. 检查左侧两列:

**第一列 - 显示说明**
- [ ] 背景色: 浅蓝色
- [ ] 文本左对齐
- [ ] 包含中文说明(如"极低"、"很低")
- [ ] 右侧有细分隔线

**第二列 - 值**
- [ ] 背景色: 淡蓝色
- [ ] 文本居中
- [ ] 包含数字(0, 1, 2...)
- [ ] 右侧有粗蓝色分隔线

### 表头验证
- [ ] "显示说明" 和 "值" 两个表头清晰可见
- [ ] 表头使用渐变背景色
- [ ] 表头在纵向滚动时固定
- [ ] 表头在横向滚动时,左侧两列固定

---

## 测试场景 5: 数据完整性

### 20维数据验证
1. 加载20维数据
2. 检查数据预览
3. 验证字段:
   ```
   - id ✓
   - expected_level (0-19) ✓
   - actual_level (0-19) ✓
   - level_name (20种说明) ✓
   - scenario ✓
   - factor ✓
   - score ✓
   - timestamp ✓
   ```

### 30维数据验证
1. 加载30维数据
2. 验证等级范围: 0-29
3. 验证等级说明包含30种不同描述
4. 验证每个等级都有数据(无空行)

---

## 测试场景 6: 边界情况

### 空值处理
1. 手动创建包含空值的JSON:
```json
[
  {"id": 1, "expected_level": null, "actual_level": 5, "level_name": "测试"},
  {"id": 2, "expected_level": 3, "actual_level": null, "level_name": "测试"}
]
```
2. 上传数据
3. 选择不同的空值处理策略:
   - 记为0: 应该正常生成报告
   - 抛弃: 跳过这两条数据
   - 报异常: 显示错误提示

### 手动设置矩阵大小
1. 加载10维数据
2. 选择"手动设置"
3. 输入15
4. 生成报告
5. 验证矩阵为15x15

---

## 回归测试

### 原有功能验证
- [ ] 场景/因子报告正常生成
- [ ] 返回主页功能正常
- [ ] 文件上传功能正常
- [ ] 数据预览正常显示
- [ ] 召回率颜色编码正常(绿/橙/红)
- [ ] 精准率颜色编码正常
- [ ] 总准确率计算正确

---

## 跨浏览器测试

### Chrome
- [ ] 所有功能正常
- [ ] Sticky定位工作正常
- [ ] 样式显示正确

### Firefox
- [ ] 所有功能正常
- [ ] Sticky定位工作正常
- [ ] 样式显示正确

### Edge
- [ ] 所有功能正常
- [ ] Sticky定位工作正常
- [ ] 样式显示正确

---

## 问题记录

### 已知问题
(无)

### 发现的新问题
(在测试过程中发现的问题记录在此)

---

## 测试检查清单

### 功能测试
- [x] 10维矩阵加载
- [x] 20维矩阵加载
- [x] 30维矩阵加载
- [x] 左侧列分离显示
- [x] Sticky定位工作
- [x] 数据完整性
- [x] 交互功能

### 性能测试
- [x] 10维渲染速度
- [x] 20维渲染速度
- [x] 30维渲染速度
- [x] 滚动流畅度
- [x] 内存占用

### 视觉测试
- [x] 颜色编码
- [x] 布局正确
- [x] 响应式设计
- [x] 分隔线显示

### 兼容性测试
- [x] Chrome
- [ ] Firefox
- [ ] Edge
- [ ] Safari

---

**测试人员**: _____________
**测试日期**: _____________
**测试结果**: ☐ 通过 ☐ 不通过
**备注**: _______________________________________________
