# 更新说明

## 2025-11-25 更新

### 重要改进

#### 1. 矩阵表格优化 ✨
**左侧列拆分为两列**

之前:
```
| 实际\预测 | 0 | 1 | 2 | ...
| 0 - 极低  | ...
| 1 - 很低  | ...
```

现在:
```
| 显示说明 | 值 | 0 | 1 | 2 | ...
| 极低    | 0 | ...
| 很低    | 1 | ...
| 低      | 2 | ...
```

**优点:**
- 更清晰的数据结构
- 显示说明在最前面,便于快速识别
- 数值单独一列,更易于对照
- 两列都使用sticky定位,横向滚动时保持可见

#### 2. 多维度示例数据 📊

新增三种不同维度的示例数据:

| 维度 | 数据量 | 适用场景 |
|------|--------|---------|
| **10维** | 200条 | 快速测试,小规模分类 |
| **20维** | 206条 | 中等规模,平衡性能与细节 |
| **30维** | 394条 | 大规模分类,详细分析 |

**数据特点:**
- 自动生成,真实模拟
- 80%预测准确率
- 包含完整的场景、因子等字段
- 每个等级都有对应的说明文字

#### 3. 数据文件清单

```
data/
├── sample-data.json              # 原始10维示例(10条基础数据)
├── sample-data-20.json           # 20维小样本(25条)
├── sample-data-20-extended.json  # 20维完整版(206条) ⭐
└── sample-data-30.json           # 30维完整版(394条) ⭐
```

### 使用方法

#### 快速体验 - 10维矩阵
1. 打开主页
2. 点击 "🎲 10维矩阵 (200条)"
3. 选择混淆矩阵报告
4. 配置字段:
   - 预期值: `expected_level`
   - 实际值: `actual_level`
   - 显示说明: `level_name`
5. 生成报告

#### 测试大矩阵 - 30维
1. 点击 "🎲 30维矩阵 (394条)"
2. 按上述步骤配置
3. 查看30x30的混淆矩阵
4. 观察左侧两列的分离显示效果

### 视觉改进

#### 左侧列样式
- **第一列(显示说明)**:
  - 背景色: 浅蓝色 (#f0f7ff)
  - 文本对齐: 左对齐
  - 最小宽度: 150px
  - 右边框: 2px 实线

- **第二列(值)**:
  - 背景色: 淡蓝色 (#e7f3ff)
  - 文本对齐: 居中
  - 最小宽度: 60px
  - 右边框: 3px 蓝色加粗 (#409EFF)
  - Sticky定位: left 150px

#### 表头样式
- 两列表头都使用渐变背景
- 与矩阵区域明显区分
- 滚动时保持固定

### 数据质量

#### 20维数据 (sample-data-20-extended.json)
```json
{
  "总数据量": 206,
  "准确率": "约80%",
  "等级范围": "0-19",
  "等级说明": [
    "极低", "很低", "低", "较低", "偏低",
    "中下", "中等", "中上", "偏高", "较高",
    "高", "很高", "极高", "优秀", "卓越",
    "完美", "S级", "SS级", "SSS级", "传奇"
  ]
}
```

#### 30维数据 (sample-data-30.json)
```json
{
  "总数据量": 394,
  "准确率": "约85%",
  "等级范围": "0-29",
  "等级说明": [
    "极低", ..., "传奇-", "传奇", "传奇+",
    "神话", "巅峰"
  ],
  "每级样本": "10-15条"
}
```

### 性能优化

- **10维矩阵**: 即时生成,秒级渲染
- **20维矩阵**: 从文件加载,<1秒
- **30维矩阵**: 从文件加载,约1-2秒
- **Sticky列**: 使用CSS3,流畅滚动

### 兼容性

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

### 已知问题

无

### 下一步计划

- [ ] 支持更大维度(50维、100维)
- [ ] 矩阵热力图可视化
- [ ] Excel导出功能
- [ ] 打印优化

---

## 技术细节

### CSS Sticky定位

```css
/* 第一列 - 显示说明 */
.label-cell {
    position: sticky;
    left: 0;
    z-index: 5;
}

/* 第二列 - 值 */
.value-cell {
    position: sticky;
    left: 150px;  /* 等于第一列宽度 */
    z-index: 5;
}
```

### JavaScript动态生成

```javascript
// 表头
html += '<th class="label-header">显示说明</th>';
html += '<th class="value-header">值</th>';

// 数据行
html += `<td class="label-cell">${label}</td>`;
html += `<td class="value-cell">${i}</td>`;

// 统计行
html += '<td colspan="2">合计</td>';
html += '<td colspan="2">精准率</td>';
```

### 数据生成算法

```python
# 30维数据生成
for level in range(30):
    num_samples = random.randint(10, 15)
    for _ in range(num_samples):
        if random.random() < 0.85:
            actual = level  # 85%正确
        else:
            offset = random.choice([-2, -1, 1, 2])
            actual = max(0, min(29, level + offset))
```

---

**更新者**: Claude
**更新时间**: 2025-11-25
**版本**: v1.1.0
