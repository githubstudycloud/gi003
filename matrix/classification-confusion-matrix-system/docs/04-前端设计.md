# å‰ç«¯ Vue 3 ç»„ä»¶è®¾è®¡

## ä¸€ã€é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.js                          # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ App.vue                          # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ confusionMatrix.js           # APIæ¥å£å°è£…
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â””â”€â”€ ConfusionMatrixView.vue      # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ FilterPanel.vue              # ç­›é€‰é¢æ¿ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MatrixTable.vue              # æ··æ·†çŸ©é˜µè¡¨æ ¼ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ StatsCards.vue               # ç»Ÿè®¡å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â””â”€â”€ CellDetailModal.vue          # å•å…ƒæ ¼è¯¦æƒ…æ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ helpers.js                   # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ matrix.css                   # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.js
```

---

## äºŒã€æ ¸å¿ƒç»„ä»¶è®¾è®¡

### 2.1 APIæ¥å£å°è£…

#### api/confusionMatrix.js

```javascript
import axios from 'axios';

const API_BASE = 'http://localhost:8080/api/confusion-matrix';

// åˆ›å»ºaxioså®ä¾‹
const http = axios.create({
    baseURL: API_BASE,
    timeout: 30000,
    headers: {
        'Content-Type': 'application/json'
    }
});

// å“åº”æ‹¦æˆªå™¨
http.interceptors.response.use(
    response => response.data,
    error => {
        console.error('API Error:', error);
        return Promise.reject(error);
    }
);

export const confusionMatrixApi = {
    // æŸ¥è¯¢æ··æ·†çŸ©é˜µ
    queryMatrix(params) {
        return http.post('/query', params);
    },

    // è·å–å•å…ƒæ ¼è¯¦æƒ…
    getCellDetail(params, expectedValue, actualValue) {
        return http.post('/cell-detail', params, {
            params: { expectedValue, actualValue }
        });
    },

    // å¯¼å‡ºExcel
    exportExcel(params) {
        return http.post('/export', params, {
            responseType: 'blob'
        });
    },

    // è·å–ç­›é€‰é€‰é¡¹
    getFilterOptions() {
        return http.get('/filter-options');
    }
};
```

---

### 2.2 ä¸»è§†å›¾ç»„ä»¶

#### views/ConfusionMatrixView.vue

```vue
<template>
  <div class="confusion-matrix-page">
    <h1 class="page-title">ğŸ¯ åˆ†ç±»é¢„æµ‹æ··æ·†çŸ©é˜µç»Ÿè®¡æŠ¥è¡¨</h1>

    <!-- ç­›é€‰é¢æ¿ -->
    <FilterPanel
      ref="filterPanel"
      @query="handleQuery"
      @reset="handleReset"
      @export="handleExport"
    />

    <!-- åŠ è½½ä¸­ -->
    <el-skeleton v-if="loading" :rows="10" animated />

    <!-- ç»Ÿè®¡å¡ç‰‡ -->
    <StatsCards
      v-else-if="matrixData"
      :total-count="matrixData.totalCount"
      :correct-count="matrixData.correctCount"
      :accuracy="matrixData.accuracy"
    />

    <!-- æ··æ·†çŸ©é˜µè¡¨æ ¼ -->
    <MatrixTable
      v-if="matrixData"
      :matrix-data="matrixData"
      @cell-click="handleCellClick"
    />

    <!-- å•å…ƒæ ¼è¯¦æƒ…æ¨¡æ€æ¡† -->
    <CellDetailModal
      v-model:visible="detailModalVisible"
      :cell-data="selectedCellData"
      :filter-params="currentFilters"
    />
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { ElMessage, ElSkeleton } from 'element-plus';
import FilterPanel from '@/components/FilterPanel.vue';
import StatsCards from '@/components/StatsCards.vue';
import MatrixTable from '@/components/MatrixTable.vue';
import CellDetailModal from '@/components/CellDetailModal.vue';
import { confusionMatrixApi } from '@/api/confusionMatrix';

const loading = ref(false);
const matrixData = ref(null);
const currentFilters = ref({});
const detailModalVisible = ref(false);
const selectedCellData = ref(null);
const filterPanel = ref(null);

// æŸ¥è¯¢æ··æ·†çŸ©é˜µ
const handleQuery = async (filters) => {
  loading.value = true;
  currentFilters.value = filters;

  try {
    const response = await confusionMatrixApi.queryMatrix(filters);
    matrixData.value = response;
    ElMessage.success('æŸ¥è¯¢æˆåŠŸ');
  } catch (error) {
    ElMessage.error('æŸ¥è¯¢å¤±è´¥: ' + error.message);
  } finally {
    loading.value = false;
  }
};

// é‡ç½®ç­›é€‰
const handleReset = () => {
  matrixData.value = null;
  currentFilters.value = {};
};

// å¯¼å‡ºExcel
const handleExport = async (filters) => {
  try {
    const blob = await confusionMatrixApi.exportExcel(filters);
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `confusion_matrix_${Date.now()}.xlsx`;
    a.click();
    window.URL.revokeObjectURL(url);
    ElMessage.success('å¯¼å‡ºæˆåŠŸ');
  } catch (error) {
    ElMessage.error('å¯¼å‡ºå¤±è´¥: ' + error.message);
  }
};

// å•å…ƒæ ¼ç‚¹å‡»
const handleCellClick = (expectedValue, actualValue, count) => {
  if (count === 0) return;

  selectedCellData.value = {
    expectedValue,
    actualValue,
    count
  };
  detailModalVisible.value = true;
};

// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
onMounted(() => {
  // å¯ä»¥åŠ è½½é»˜è®¤ç­›é€‰æ¡ä»¶
  if (filterPanel.value) {
    filterPanel.value.loadDefaultFilters();
  }
});
</script>

<style scoped>
.confusion-matrix-page {
  max-width: 1800px;
  margin: 0 auto;
  padding: 30px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.page-title {
  text-align: center;
  color: #333;
  margin-bottom: 30px;
  font-size: 28px;
}
</style>
```

---

### 2.3 ç­›é€‰é¢æ¿ç»„ä»¶

#### components/FilterPanel.vue

```vue
<template>
  <div class="filter-panel">
    <el-form :model="filters" label-width="100px">
      <el-row :gutter="20">
        <el-col :span="6">
          <el-form-item label="ä¸€çº§åˆ†ç±»">
            <el-select v-model="filters.primaryCategory" placeholder="è¯·é€‰æ‹©" clearable>
              <el-option label="æœè£…" value="æœè£…" />
              <el-option label="ç”µå­" value="ç”µå­" />
              <el-option label="é£Ÿå“" value="é£Ÿå“" />
            </el-select>
          </el-form-item>
        </el-col>

        <el-col :span="6">
          <el-form-item label="äºŒçº§åˆ†ç±»">
            <el-select v-model="filters.secondaryCategory" placeholder="è¯·é€‰æ‹©" clearable>
              <el-option label="ä¸Šè¡£" value="ä¸Šè¡£" />
              <el-option label="è£¤å­" value="è£¤å­" />
              <el-option label="é‹å­" value="é‹å­" />
            </el-select>
          </el-form-item>
        </el-col>

        <el-col :span="6">
          <el-form-item label="æµ‹è¯•ç”¨ä¾‹">
            <el-select v-model="filters.testCaseId" placeholder="è¯·é€‰æ‹©" clearable>
              <el-option
                v-for="item in filterOptions.testCases"
                :key="item.id"
                :label="item.name"
                :value="item.id"
              />
            </el-select>
          </el-form-item>
        </el-col>

        <el-col :span="6">
          <el-form-item label="åº”ç”¨åœºæ™¯">
            <el-select v-model="filters.scenarioId" placeholder="è¯·é€‰æ‹©" clearable>
              <el-option
                v-for="item in filterOptions.scenarios"
                :key="item.id"
                :label="item.name"
                :value="item.id"
              />
            </el-select>
          </el-form-item>
        </el-col>
      </el-row>

      <el-row :gutter="20">
        <el-col :span="6">
          <el-form-item label="å‚ç±»">
            <el-select v-model="filters.verticalCategoryId" placeholder="è¯·é€‰æ‹©" clearable>
              <el-option
                v-for="item in filterOptions.verticalCategories"
                :key="item.id"
                :label="item.name"
                :value="item.id"
              />
            </el-select>
          </el-form-item>
        </el-col>

        <el-col :span="6">
          <el-form-item label="å› å­">
            <el-select v-model="filters.factorId" placeholder="è¯·é€‰æ‹©" clearable @change="handleFactorChange">
              <el-option
                v-for="item in filterOptions.factors"
                :key="item.id"
                :label="item.name"
                :value="item.id"
              />
            </el-select>
          </el-form-item>
        </el-col>

        <el-col :span="6">
          <el-form-item label="å› å­å€¼">
            <el-select v-model="filters.factorValueId" placeholder="è¯·é€‰æ‹©" clearable :disabled="!filters.factorId">
              <el-option
                v-for="item in currentFactorValues"
                :key="item.id"
                :label="item.displayName || item.value"
                :value="item.id"
              />
            </el-select>
          </el-form-item>
        </el-col>

        <el-col :span="6">
          <el-form-item label=" ">
            <el-button type="primary" icon="Search" @click="handleQuery">æŸ¥è¯¢</el-button>
            <el-button type="success" icon="Download" @click="handleExport">å¯¼å‡º</el-button>
            <el-button icon="Refresh" @click="handleReset">é‡ç½®</el-button>
          </el-form-item>
        </el-col>
      </el-row>
    </el-form>
  </div>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue';
import { confusionMatrixApi } from '@/api/confusionMatrix';

const emit = defineEmits(['query', 'reset', 'export']);

const filters = ref({
  primaryCategory: '',
  secondaryCategory: '',
  testCaseId: null,
  scenarioId: null,
  verticalCategoryId: null,
  factorId: null,
  factorValueId: null
});

const filterOptions = ref({
  testCases: [],
  scenarios: [],
  verticalCategories: [],
  factors: [],
  factorValues: {}  // æŒ‰factorIdåˆ†ç»„çš„å› å­å€¼
});

// å½“å‰å› å­çš„å› å­å€¼
const currentFactorValues = computed(() => {
  if (!filters.value.factorId) return [];
  return filterOptions.value.factorValues[filters.value.factorId] || [];
});

// æŸ¥è¯¢
const handleQuery = () => {
  emit('query', { ...filters.value });
};

// å¯¼å‡º
const handleExport = () => {
  emit('export', { ...filters.value });
};

// é‡ç½®
const handleReset = () => {
  filters.value = {
    primaryCategory: '',
    secondaryCategory: '',
    testCaseId: null,
    scenarioId: null,
    verticalCategoryId: null,
    factorId: null,
    factorValueId: null
  };
  emit('reset');
};

// å› å­å˜åŒ–æ—¶æ¸…ç©ºå› å­å€¼
const handleFactorChange = () => {
  filters.value.factorValueId = null;
};

// åŠ è½½ç­›é€‰é€‰é¡¹
const loadFilterOptions = async () => {
  try {
    const options = await confusionMatrixApi.getFilterOptions();
    filterOptions.value = options;
  } catch (error) {
    console.error('åŠ è½½ç­›é€‰é€‰é¡¹å¤±è´¥:', error);
  }
};

// åŠ è½½é»˜è®¤ç­›é€‰æ¡ä»¶
const loadDefaultFilters = () => {
  filters.value.primaryCategory = 'æœè£…';
  filters.value.secondaryCategory = 'ä¸Šè¡£';
  handleQuery();
};

onMounted(() => {
  loadFilterOptions();
});

defineExpose({
  loadDefaultFilters
});
</script>

<style scoped>
.filter-panel {
  background: #fafafa;
  padding: 20px;
  border-radius: 6px;
  margin-bottom: 30px;
}

:deep(.el-form-item) {
  margin-bottom: 15px;
}

:deep(.el-select) {
  width: 100%;
}
</style>
```

---

### 2.4 ç»Ÿè®¡å¡ç‰‡ç»„ä»¶

#### components/StatsCards.vue

```vue
<template>
  <div class="stats-cards">
    <div class="stat-card purple">
      <div class="stat-value">{{ totalCount.toLocaleString() }}</div>
      <div class="stat-label">æ€»æ ·æœ¬æ•°</div>
    </div>

    <div class="stat-card green">
      <div class="stat-value">{{ correctCount.toLocaleString() }}</div>
      <div class="stat-label">é¢„æµ‹æ­£ç¡®æ•°</div>
    </div>

    <div class="stat-card orange">
      <div class="stat-value">{{ (accuracy * 100).toFixed(2) }}%</div>
      <div class="stat-label">æ€»å‡†ç¡®ç‡</div>
    </div>
  </div>
</template>

<script setup>
defineProps({
  totalCount: {
    type: Number,
    required: true
  },
  correctCount: {
    type: Number,
    required: true
  },
  accuracy: {
    type: Number,
    required: true
  }
});
</script>

<style scoped>
.stats-cards {
  display: flex;
  gap: 20px;
  margin-bottom: 30px;
}

.stat-card {
  flex: 1;
  color: white;
  padding: 30px;
  border-radius: 8px;
  text-align: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.stat-card.purple {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.stat-card.green {
  background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
}

.stat-card.orange {
  background: linear-gradient(135deg, #ee0979 0%, #ff6a00 100%);
}

.stat-value {
  font-size: 40px;
  font-weight: bold;
  margin-bottom: 10px;
}

.stat-label {
  font-size: 16px;
  opacity: 0.9;
}
</style>
```

---

### 2.5 æ··æ·†çŸ©é˜µè¡¨æ ¼ç»„ä»¶

#### components/MatrixTable.vue

```vue
<template>
  <div class="matrix-wrapper">
    <el-table
      :data="tableData"
      border
      :header-cell-style="{ background: '#409EFF', color: 'white', textAlign: 'center' }"
      :cell-style="getCellStyle"
      style="width: 100%"
    >
      <el-table-column label="å®é™…\é¢„æµ‹" width="100" fixed>
        <template #default="{ row }">
          <strong>{{ row.label }}</strong>
        </template>
      </el-table-column>

      <el-table-column
        v-for="i in 16"
        :key="i"
        :label="`é¢„æµ‹${i - 1}`"
        width="70"
        align="center"
      >
        <template #default="{ row, $index }">
          <div
            class="matrix-cell"
            :class="getCellClass($index, i - 1, row[`col${i - 1}`])"
            @click="handleCellClick($index, i - 1, row[`col${i - 1}`])"
          >
            {{ row[`col${i - 1}`] }}
          </div>
        </template>
      </el-table-column>

      <el-table-column label="SUM" width="80" align="center" fixed="right">
        <template #default="{ row }">
          <strong>{{ row.sum }}</strong>
        </template>
      </el-table-column>

      <el-table-column label="å¬å›ç‡" width="100" align="center" fixed="right">
        <template #default="{ row }">
          <span :style="{ color: getRecallColor(row.recall) }">
            <strong>{{ row.recall }}%</strong>
          </span>
        </template>
      </el-table-column>
    </el-table>

    <!-- æ±‡æ€»è¡Œ -->
    <div class="summary-rows">
      <el-table :data="[sumRow, precisionRow]" border>
        <el-table-column label="" width="100">
          <template #default="{ row }">
            <strong>{{ row.label }}</strong>
          </template>
        </el-table-column>

        <el-table-column
          v-for="i in 16"
          :key="i"
          :label="`é¢„æµ‹${i - 1}`"
          width="70"
          align="center"
        >
          <template #default="{ row }">
            {{ row[`col${i - 1}`] }}
          </template>
        </el-table-column>

        <el-table-column label="æ€»è®¡" width="180" align="center">
          <template #default="{ row }">
            <strong>{{ row.total }}</strong>
          </template>
        </el-table-column>
      </el-table>
    </div>
  </div>
</template>

<script setup>
import { computed } from 'vue';

const props = defineProps({
  matrixData: {
    type: Object,
    required: true
  }
});

const emit = defineEmits(['cell-click']);

// æ„å»ºè¡¨æ ¼æ•°æ®
const tableData = computed(() => {
  const data = [];
  for (let i = 0; i < 16; i++) {
    const row = { label: `å®é™…ä¸º${i}` };
    let sum = 0;

    for (let j = 0; j < 16; j++) {
      const value = props.matrixData.matrix[i][j];
      row[`col${j}`] = value;
      sum += value;
    }

    row.sum = sum;
    row.recall = props.matrixData.rowSummaries[i].recallRate.toFixed(2);
    data.push(row);
  }
  return data;
});

// SUMè¡Œ
const sumRow = computed(() => {
  const row = { label: 'SUM' };
  let total = 0;

  for (let j = 0; j < 16; j++) {
    const colSum = props.matrixData.columnSummaries[j].total;
    row[`col${j}`] = colSum;
    total += colSum;
  }

  row.total = `æ€»è®¡: ${total}`;
  return row;
});

// ç²¾å‡†ç‡è¡Œ
const precisionRow = computed(() => {
  const row = { label: 'ç²¾å‡†ç‡' };
  for (let j = 0; j < 16; j++) {
    const precision = props.matrixData.columnSummaries[j].precisionRate;
    row[`col${j}`] = `${(precision * 100).toFixed(2)}%`;
  }
  row.total = `å‡†ç¡®ç‡: ${(props.matrixData.accuracy * 100).toFixed(2)}%`;
  return row;
});

// å•å…ƒæ ¼æ ·å¼
const getCellClass = (rowIndex, colIndex, value) => {
  if (value === 0) return 'cell-zero';
  if (rowIndex === colIndex) return 'cell-correct';
  return 'cell-error';
};

const getCellStyle = ({ rowIndex, columnIndex }) => {
  // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šæ ·å¼é€»è¾‘
  return {};
};

// å¬å›ç‡é¢œè‰²
const getRecallColor = (recall) => {
  const rate = parseFloat(recall);
  if (rate >= 90) return '#2e7d32';
  if (rate >= 70) return '#f57c00';
  return '#c62828';
};

// å•å…ƒæ ¼ç‚¹å‡»
const handleCellClick = (expected, actual, count) => {
  emit('cell-click', expected, actual, count);
};
</script>

<style scoped>
.matrix-wrapper {
  overflow-x: auto;
  margin-bottom: 30px;
}

.matrix-cell {
  cursor: pointer;
  padding: 8px;
  transition: all 0.2s;
}

.matrix-cell:hover {
  transform: scale(1.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.cell-correct {
  background: #d4edda !important;
  color: #155724;
  font-weight: bold;
}

.cell-error {
  background: #fff3cd;
  color: #856404;
}

.cell-zero {
  background: #f8f9fa;
  color: #aaa;
}

.summary-rows {
  margin-top: 10px;
}
</style>
```

---

### 2.6 å•å…ƒæ ¼è¯¦æƒ…æ¨¡æ€æ¡†

#### components/CellDetailModal.vue

```vue
<template>
  <el-dialog
    v-model="dialogVisible"
    title="ğŸ” å•å…ƒæ ¼è¯¦ç»†æ•°æ®"
    width="80%"
    :before-close="handleClose"
  >
    <div v-if="cellData" class="modal-content">
      <el-descriptions :column="3" border>
        <el-descriptions-item label="å®é™…å€¼">{{ cellData.expectedValue }}</el-descriptions-item>
        <el-descriptions-item label="é¢„æµ‹å€¼">{{ cellData.actualValue }}</el-descriptions-item>
        <el-descriptions-item label="è®°å½•æ•°">{{ cellData.count }}</el-descriptions-item>
      </el-descriptions>

      <el-table
        v-loading="loading"
        :data="detailRecords"
        border
        style="margin-top: 20px"
        max-height="500"
      >
        <el-table-column type="index" label="åºå·" width="60" />
        <el-table-column prop="primaryCategory" label="ä¸€çº§åˆ†ç±»" width="100" />
        <el-table-column prop="secondaryCategory" label="äºŒçº§åˆ†ç±»" width="100" />
        <el-table-column prop="expectedValue" label="é¢„æœŸå€¼" width="80" align="center" />
        <el-table-column prop="actualValue" label="å®é™…å€¼" width="80" align="center" />
        <el-table-column prop="status" label="çŠ¶æ€" width="80" align="center">
          <template #default="{ row }">
            <el-tag :type="row.status === 'pass' ? 'success' : 'danger'">
              {{ row.status.toUpperCase() }}
            </el-tag>
          </template>
        </el-table-column>
        <el-table-column prop="testCaseName" label="æµ‹è¯•ç”¨ä¾‹" width="150" />
        <el-table-column prop="scenarioName" label="åº”ç”¨åœºæ™¯" width="150" />
        <el-table-column prop="createTime" label="åˆ›å»ºæ—¶é—´" width="180" />
      </el-table>
    </div>

    <template #footer>
      <el-button @click="handleClose">å…³é—­</el-button>
    </template>
  </el-dialog>
</template>

<script setup>
import { ref, watch } from 'vue';
import { confusionMatrixApi } from '@/api/confusionMatrix';
import { ElMessage } from 'element-plus';

const props = defineProps({
  visible: Boolean,
  cellData: Object,
  filterParams: Object
});

const emit = defineEmits(['update:visible']);

const dialogVisible = ref(false);
const loading = ref(false);
const detailRecords = ref([]);

watch(() => props.visible, (newVal) => {
  dialogVisible.value = newVal;
  if (newVal && props.cellData) {
    loadDetailRecords();
  }
});

watch(dialogVisible, (newVal) => {
  emit('update:visible', newVal);
});

const loadDetailRecords = async () => {
  loading.value = true;
  try {
    const response = await confusionMatrixApi.getCellDetail(
      props.filterParams,
      props.cellData.expectedValue,
      props.cellData.actualValue
    );
    detailRecords.value = response.records;
  } catch (error) {
    ElMessage.error('åŠ è½½è¯¦ç»†æ•°æ®å¤±è´¥: ' + error.message);
  } finally {
    loading.value = false;
  }
};

const handleClose = () => {
  dialogVisible.value = false;
};
</script>

<style scoped>
.modal-content {
  padding: 20px 0;
}
</style>
```

---

## ä¸‰ã€å·¥å…·å‡½æ•°

#### utils/helpers.js

```javascript
// æ ¼å¼åŒ–ç™¾åˆ†æ¯”
export function formatPercent(value, decimals = 2) {
  return `${(value * 100).toFixed(decimals)}%`;
}

// è·å–å¬å›ç‡æ ·å¼ç±»
export function getRecallClass(rate) {
  if (rate >= 0.9) return 'recall-high';
  if (rate >= 0.7) return 'recall-medium';
  return 'recall-low';
}

// è·å–å¬å›ç‡é¢œè‰²
export function getRecallColor(rate) {
  if (rate >= 0.9) return '#2e7d32';
  if (rate >= 0.7) return '#f57c00';
  return '#c62828';
}

// ä¸‹è½½æ–‡ä»¶
export function downloadFile(blob, filename) {
  const url = window.URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  window.URL.revokeObjectURL(url);
}
```

---

## å››ã€ä¾èµ–é…ç½®

#### package.json

```json
{
  "name": "confusion-matrix-frontend",
  "version": "1.0.0",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "vue": "^3.3.4",
    "axios": "^1.5.0",
    "element-plus": "^2.4.0",
    "@element-plus/icons-vue": "^2.1.0"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^4.3.4",
    "vite": "^4.4.9"
  }
}
```

#### vite.config.js

```javascript
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import { resolve } from 'path';

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src')
    }
  },
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true
      }
    }
  }
});
```

---

## äº”ã€ç»„ä»¶äº¤äº’æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·é€‰æ‹©ç­›é€‰æ¡ä»¶] --> B[FilterPanel]
    B --> C[ç‚¹å‡»æŸ¥è¯¢æŒ‰é’®]
    C --> D[å‘èµ·APIè¯·æ±‚]
    D --> E[åç«¯è¿”å›çŸ©é˜µæ•°æ®]
    E --> F[æ›´æ–°StatsCards]
    E --> G[æ›´æ–°MatrixTable]
    G --> H[ç”¨æˆ·ç‚¹å‡»å•å…ƒæ ¼]
    H --> I[æ‰“å¼€CellDetailModal]
    I --> J[åŠ è½½è¯¦ç»†è®°å½•]
    J --> K[å±•ç¤ºè®°å½•åˆ—è¡¨]
```

---

**ä¸‹ä¸€æ­¥**: æŸ¥çœ‹ [05-å®Œæ•´æ¶æ„å›¾.md](05-å®Œæ•´æ¶æ„å›¾.md)
