# 需求变更记录

> 本文档记录混淆矩阵评估系统前端的需求变更历史

---

## 版本 1.1.0 (2025-12-06)

### 需求变更

#### 1. 新增详细指标展示

**需求来源**: 用户反馈

**变更描述**: 
在用例详情区域新增4个详细指标卡片，展示：
- 最高召回率
- 最低召回率  
- 最高精准率
- 最低精准率

**变更原因**:
用户需要快速了解各分类中精准率和召回率的极值情况，便于定位问题分类。

**影响范围**:
- `MetricsCard.vue` 组件
- `mockData.js` 统计计算逻辑

---

#### 2. 稀疏矩阵过滤无效值

**需求来源**: 用户反馈

**变更描述**:
- 稀疏矩阵模式下不再显示负数值
- 新增 `minValueFilter` 参数，过滤小于等于指定值的数据
- 默认值为 0，即只显示大于 0 的分类值

**变更原因**:
- 实际业务中，分类值通常从 1 开始
- 负数或 0 通常表示无效/未知分类
- 显示这些无效值会干扰分析

**影响范围**:
- `ConfusionMatrix.vue` 组件
- `mockData.js` 数据生成逻辑
- `index.js` 场景配置

---

#### 3. 术语统一

**需求来源**: 代码审查

**变更描述**:
统一使用以下术语：
- **准确率 (Accuracy)**: 整体预测正确的比例
- **精准率 (Precision)**: 各类预测正确数 / 该类预测总数
- **召回率 (Recall)**: 各类预测正确数 / 该类实际总数

**影响范围**:
- 所有组件的显示文本
- 文档说明

---

### 新增功能

| 功能 | 描述 | 状态 |
|------|------|------|
| 详细指标卡片 | 展示最高/最低精准率、召回率 | ✅ 完成 |
| 最小值过滤 | 过滤小于等于指定值的分类 | ✅ 完成 |
| 指标等级标识 | 根据数值显示优秀/良好/中等/较低/极低 | ✅ 完成 |

### Bug修复

| 问题 | 描述 | 状态 |
|------|------|------|
| 精准率行缺失 | v1.0中精准率行未正确显示 | ✅ 修复 |
| 合计行不可点击 | 行合计和列合计无法点击查看详情 | ✅ 修复 |
| 显示说明默认值 | desc_value为空时显示不友好 | ✅ 修复 |

---

## 版本 1.0.0 (2025-12-06)

### 初始版本

#### 核心功能

1. **混淆矩阵渲染**
   - 支持完整矩阵（策略1）和稀疏矩阵（策略2）
   - 显示召回率和精准率
   - 单元格颜色区分正确/错误

2. **多用例支持**
   - Tab页切换多个测试用例
   - 每个用例独立的统计数据

3. **统计卡片**
   - 总样本数、有效样本数
   - 预测正确数、预测错误数
   - 准确率

4. **交互功能**
   - 单元格点击查看详情
   - 弹窗展示详细记录

5. **Mock数据**
   - 10个预设测试场景
   - 前端独立调试支持

---

## 版本规划

### v1.2 (计划中)

- [ ] 用例列表页面
- [ ] 用例详情列表页面（带筛选）
- [ ] 单元格点击跳转详情页

### v1.3 (计划中)

- [ ] 报告导出功能（Excel/PDF）
- [ ] 数据对比功能
- [ ] 历史记录查看

### v2.0 (远期)

- [ ] 实时数据更新
- [ ] 多维度分析
- [ ] 自定义指标
- [ ] 可视化图表

---

## 文档说明

- 本文档随版本更新同步维护
- 每次需求变更需记录：来源、描述、原因、影响范围
- 重大变更需进行代码审查

